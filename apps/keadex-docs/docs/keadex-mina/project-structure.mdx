---
id: project-structure
title: Project Structure
sidebar_label: Project Structure
slug: /keadex-mina/project-structure
displayed_sidebar: keadexMinaSidebar
---

import { generateTitle } from './helper'

<head>
  <title>{generateTitle("Project Structure")}</title>
</head>

## Project Specifications

```bash
|_ .tmp
  |_ data.db
|_ diagrams
  |_ system-context
    |_ diagram-name1
      |_ diagram.puml
      |_ diagram.spec.json
    |_ ...
  |_ container
  |_ component
  |_ system-landscape
  |_ dynamic
  |_ deployment
|_ library
  |_ persons.json
  |_ software-systems.json
  |_ containers.json
  |_ components.json
  |_ boundaries.json
|_ mina.json
```

- ``` .tmp ```: contains autogenerated temporary files.
  - ``` data.db ```: autogenerated SQLite database used by Mina for storing and querying diagrams' data.
- ``` diagrams ```: contains all the diagrams.
  - ``` system-context ```: contains *System Context* diagrams. Each subfolder represents a diagram.
    - ``` diagram-name1 ```: example of a diagram's folder. The folder's name follows the lower-kebab-case naming convention. Each diagram's folder contains **2 files**:
      - ``` diagram.puml ```: PlantUML code of the diagram.
      - ``` diagram.spec.json ```: settings (e.g. name, description, etc.) and rendering data (e.g. positions, sizes, etc.) of the diagram.
  - ``` container ```: contains *Container* diagrams.
  - ``` component ```: contains *Component* diagrams.
  - ``` system-landscape ```: contains *System Context* diagrams.
  - ``` dynamic ```: contains *Dynamic* diagrams.
  - ``` deployment ```: contains *Deployment* diagrams.
- ``` library ```: contains the C4 Model **entities** shared across the diagrams. The entities stored in this folder can be *searched* and *imported* in the diagrams, without the need to create them from scratch.<br/>
Reusing stored entities will help you also to **retrieve** the diagrams which use them; in this way you will be able to easily answer to questions like:
  - Where are used the "Web Client" and "Backend" *containers*?
  - What uses the "Order Microservice" *components*?
  - How does it work the "eCommerce" *software system*?
The ``` library ``` folder contains the following files:
  - ``` persons.json ```: stored *person* entities.
  - ``` software-systems.json ```: stored *software system* entities.
  - ``` containers.json ```: stored *container* entities.
  - ``` components.json ```: stored *component* entities.
  - ``` boundaries.json ```: stored *boundary* entities.
- ```mina.json ```: settings of the project (e.g. name, description, version, etc.).



## Files Specifications

### mina.json

Settings of the project.

```json title="/mina.json"
{
  "name": "My first project",
  "description": "This is my first amazing project built with Mina!",
  "version": "1.0.0"
}
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` name ``` | string | No | Name of the project. |
| ``` description ``` | string | Yes | Description of the project. |
| ``` version ``` | string | Yes | Version of the project. |


### diagram.puml

```scheme title="/diagrams/*/*/diagram.puml"
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(user, "Customer", "People that need products", $sprite="users")
Container(spa, "SPA", "angular", "The main interface that the customer interacts with", $sprite="angular")
Container(api, "API", "java", "Handles all business logic", $sprite="java")
ContainerDb(db, "Database", "Microsoft SQL", "Holds product, order and invoice information", $sprite="msql_server")

Rel(user, spa, "Uses")
Rel(spa, api, "Uses")
Rel_R(api, db, "Reads/Writes")

@enduml
```

Mina supports the **PlantUML** syntax to code the diagrams. In addition, the [Mina Rendering System](./architecture/rendering-system.mdx) uses the [C4-PlantUML](https://github.com/plantuml-stdlib/C4-PlantUML) definitions to render the diagrams.<br/>

:::caution

Even if you don't need to include the C4-PlantUML definitions (since Mina has its rendering system), **it's strongly suggested to do so** to guarantee the compatibility with also other PlantUML tools.

:::


### diagram.spec.json

Mina stores in this file the diagram's settings and the rendering data used by the [rendering system](./architecture/rendering-system.mdx).<br/>
The diagram's spec file can be considered the extension of the PlantUML definitions. Thanks to this Mina is able to provide capabilities like: navigations between diagrams, interactive diagrams, custom rendering result.

```json title="/diagrams/*/*/diagram.spec.json"
{
  "uuid": "80d3e51a-2ec2-4a38-8de1-01dcd1655672",
  "name": "My first System Context diagram",
  "description": "This is an example of my first System Context diagram",
  "entities": [
    {
      "alias": "softwareSystem1",
      "entity_type": "SOFTWARE_SYSTEM",
      "position": {
        "x": 0,
        "y": 1
      },
      "size": {
        "width": 180,
        "height": 120
      },
      "linkedDiagramUuid": "80d3e51a-2ec2-4a38-8de1-01dcd1655672"
    },
    {
      "from": "softwareSystem1",
      "to": "softwareSystem2",
      "label": "uses",
      "entity_type": "RELATIONSHIP",
      "position": {
        "x": 0,
        "y": 1
      },
      "rotation": 90,
      "size": {
        "width": 120
      }
    }
  ],
  "shapes": [
    {
      "uuid": "31a70e34-911f-462b-9c1b-98ac81af5c5a",
      "shape_type": "LINE",
      "position": {
        "x": 0,
        "y": 1
      },
      "rotation": 90,
      "size": 50
    }
  ]
}
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the diagram. |
| ``` name ``` | string | No | Name of the diagram. |
| ``` description ``` | string | Yes | Description of the diagram. |
| ``` entities ``` | DiagramEntity[] | Yes | Entities included in the diagram. |
| ``` shapes ``` | Shape[] | Yes | Shapes included in the diagram. |


### persons.json

Stored *person* entities used by Mina to provide capabilities like: search & import of a *person*, list of the diagrams referencing a *person*. 

```json title="/library/persons.json"
[
  {
    "uuid": "6874fc3c-93fe-4423-83d7-b1f205021e74",
    "alias": "personalBankingCustomer",
    "name": "Personal Banking Customer",
    "description": "A customer of the bank, with personal bank accounts.",
    "location": "INTERNAL",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Person[] | Yes | Stored persons. |


### software-systems.json

Stored *software system* entities used by Mina to provide capabilities like: search & import of a *software system*, list of the diagrams referencing a *software system*. 

```json title="/library/software-systems.json"
[
  {
    "uuid": "961d8cb1-a50e-46b8-b193-5998f3b0b58a",
    "alias": "internetBankingSystem",
    "name": "Internet Banking System",
    "description": "Allows customer to view information about their bank accounts, and make payments.",
    "location": "INTERNAL",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | SoftwareSystem[] | Yes | Stored software systems. |


### containers.json

Stored *container* entities used by Mina to provide capabilities like: search & import of a *container*, list of the diagrams referencing a *container*. 

```json title="/library/containers.json"
[
  {
    "uuid": "36d11e62-7cf3-4373-9fe2-2444dfd6f531",
    "alias": "backend",
    "name": "Backend",
    "description": "Provides Internet banking functionalities via REST APIs",
    "technology": "Spring",
    "container_type": "STANDARD",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Container[] | Yes | Stored containers. |


### components.json

Stored *component* entities used by Mina to provide capabilities like: search & import of a *component*, list of the diagrams referencing a *component*. 

```json title="/library/components.json"
[
  {
    "uuid": "b6551a3a-9deb-4b46-a92c-943be471c89f",
    "alias": "signinController",
    "name": "Sign In Controller",
    "description": "Allows users to sign in to the Internet Banking System.",
    "technology": "React",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Component[] | Yes | Stored components. |


### boundaries.json

Stored *boundary* entities used by Mina to provide capabilities like: search & import of a *boundary*, list of the diagrams referencing a *boundary*. 

```json title="/library/boundaries.json"
[
  {
    "uuid": "70223831-a10e-454d-a45e-9a1a54b50ff8",
    "alias": "backendBoundary",
    "name": "Backend",
    "boundary_type": "STANDARD",
    "persons_uuids": [],
    "software_systems_uuids": [],
    "containers_uuids": [],
    "components_uuids": [],
    "boundaries_uuids": [],
    "relationships": []
  }
]
```

#### JSON Specification

| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Boundary[] | Yes | Stored boundaries. |



## Object Types

### DiagramEntity
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` alias ``` | string | No | Alias of the entity. It corresponds to the ``` alias ``` defined in the ``` .puml ``` file. |
| ``` entity_type ``` | string | No | Type of entity. It corresponds to the type defined in the ``` .puml ``` file. Options: ``` PERSON ```, ``` SOFTWARE_SYSTEM ```, ``` CONTAINER ```, ``` COMPONENT ```, ``` RELATIONSHIP ```, ``` BOUNDARY ``` |
| ``` position ``` | Position | No | Canvas-relative position of the entity.  |
| ``` rotation ``` | float (degrees) | No | Rotation of the entity.  |
| ``` size ``` | Size | No | Size of the entity. |
| ``` from ``` | string | No when ```"type": "RELATIONSHIP"``` | Required only when ```"type": "RELATIONSHIP"```. It corresponds to the field ``` from ``` of the related relationship defined in the ``` .puml ``` file. |
| ``` to ``` | string | No when ```"type": "RELATIONSHIP"``` | Required only when ```"type": "RELATIONSHIP"```. It corresponds to the field ``` to ``` of the related relationship defined in the ``` .puml ``` file. |
| ``` label ``` | string | No when ```"type": "RELATIONSHIP"``` | Required only when ```"type": "RELATIONSHIP"```. It corresponds to the field ``` label ``` of the related relationship defined in the ``` .puml ``` file. |
| ``` linked_diagram_uuid ``` | string | Yes | Uuid of the diagram linked to the entity. It is used, for example, to allow navigations between diagrams. |

### Shape
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the shape. |
| ``` shape_type ``` | string | No | Type of shape. Options: ``` LINE ```. |
| ``` position ``` | Position | No | Canvas-relative position of the shape.  |
| ``` rotation ``` | float (degrees) | No | Rotation of the shape.  |
| ``` size ``` | Size | No | Size of the shape. |

### Position
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` x ``` | float | No | Location on the y (vertical) axis of the canvas. |
| ``` y ``` | float | No | Location on the x (horizontal) axis of the canvas. |
| ``` z ``` | float | Yes | Z-order of the element. Default: ```1```. |

### Size
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` width ``` | float | No | Width of the element. |
| ``` height ``` | float | Yes | Height of the element. |

### Person
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the person. |
| ``` alias ``` | string | No | Alias of the person. |
| ``` name ``` | string | No | Name of the person. |
| ``` description ``` | string | Yes | Description of the Person. |
| ``` location ``` | string | Yes | Location of the person: internal or external to the organization. Options: ``` INTERNAL ```, ``` EXTERNAL ```. Default: ``` INTERNAL ```. |
| ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the person. |

### SoftwareSystem
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the Software System. |
| ``` alias ``` | string | No | Alias of the software system. |
| ``` name ``` | string | No | Name of the software system. |
| ``` description ``` | string | Yes | Description of the software system. |
| ``` location ``` | string | Yes | Location of the software system: internal or external to the organization. Options: ``` INTERNAL ```, ``` EXTERNAL ```. Default: ``` INTERNAL ```. |
| ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the software system. |

### Container
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the Container. |
| ``` alias ``` | string | No | Alias of the container. |
| ``` name ``` | string | No | Name of the container. |
| ``` description ``` | string | Yes | Description of the container. |
| ``` technology ``` | string | No | Technology of the container. |
| ``` container_type ``` | string | Yes | Type of the container: standard or database. Options: ``` STANDARD ```, ``` DATABASE ```. Default: ``` STANDARD ```. |
| ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the software system. |

### Component
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the Component. |
| ``` alias ``` | string | No | Alias of the component. |
| ``` name ``` | string | No | Name of the component. |
| ``` description ``` | string | Yes | Description of the component. |
| ``` technology ``` | string | No | Technology of the component. |
| ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the software system. |

### Boundary
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Uuid of the Boundary. |
| ``` alias ``` | string | No | Alias of the boundary. |
| ``` name ``` | string | No | Name of the boundary. |
| ``` boundary_type ``` | string | No | Type of the boundary. Options: ``` SOFTWARE_SYSTEM ```, ``` CONTAINER ```, ``` COMPONENT ```, ``` CUSTOM ```. |
| ``` label ``` | string | No | Label of the ``` CUSTOM ``` boundary. Required only when ```"type": "CUSTOM"```. |
| ``` persons_uuids ``` | string[] | Yes | Uuids of the stored Persons inside the boundary. |
| ``` software_systems_uuids ``` | string[] | Yes | Uuids of stored the Software Systems inside the boundary. |
| ``` containers_uuids ``` | string[] | Yes | Uuids of the stored Containers inside the boundary. |
| ``` components_uuids ``` | string[] | Yes | Uuids of the stored Components inside the boundary. |
| ``` boundaries_uuids ``` | string[] | Yes | Uuids of the stored Boundaries inside the boundary. |
| ``` relationships ``` | Relationship[] | Yes | Relationships inside the boundary. |

### Relationship
| Attribute(s) | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid_from ``` | string | No | UUID of the source entity of the relationship. |
| ``` uuid_to ``` | string | No | UUID of the target entity of the relationship. |
| ``` label ``` | string | No | Label of the relationship. |
| ``` technology ``` | string | Yes | Technology of the relationship. |
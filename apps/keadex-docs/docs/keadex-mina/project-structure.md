---
id: project-structure
title: Project Structure
sidebar_label: Project Structure
slug: /keadex-mina/project-structure
displayed_sidebar: keadexMinaSidebar
---

## Project Specifications

```bash
|_ .tmp
  |_ data.db
|_ diagrams
  |_ system-context
    |_ diagram-name1
      |_ diagram.puml
      |_ diagram.spec.json
    |_ ...
  |_ container
  |_ component
  |_ system-landscape
  |_ dynamic
  |_ deployment
|_ library
  |_ persons.json
  |_ software-systems.json
  |_ containers.json
  |_ components.json
  |_ boundaries.json
|_ mina.json
```

- ``` .tmp ```: contains autogenerated temporary files.
  - ``` data.db ```: autogenerated SQLite database used by Mina for storing and querying diagrams' data.
- ``` diagrams ```: contains all the diagrams.
  - ``` system-context ```: contains *System Context* diagrams. Each subfolder represents a diagram.
    - ``` diagram-name1 ```: example of a diagram's folder. The folder's name follows the lower-kebab-case naming convention. Each diagram's folder contains **2 files**:
      - ``` diagram.puml ```: PlantUML code of the diagram.
      - ``` diagram.spec.json ```: settings (e.g. name, description, etc.) and rendering data (e.g. positions, sizes, etc.) of the diagram.
  - ``` container ```: contains *Container* diagrams.
  - ``` component ```: contains *Component* diagrams.
  - ``` system-landscape ```: contains *System Context* diagrams.
  - ``` dynamic ```: contains *Dynamic* diagrams.
  - ``` deployment ```: contains *Deployment* diagrams.
- ``` library ```: contains the C4 Model **entities** shared across the diagrams. The entities stored in this folder can be *searched* and *imported* in the diagrams, without the need to create them from scratch.<br/>
Reusing stored entities will help you also to **retrieve** the diagrams which use them; in this way you will be able to easily answer to questions like:
  - Where are used the "Web Client" and "Backend" *containers*?
  - What uses the "Order Microservice" *components*?
  - How does it work the "eCommerce" *software system*?
The ``` library ``` folder contains the following files:
  - ``` persons.json ```: stored *person* entities.
  - ``` software-systems.json ```: stored *software system* entities.
  - ``` containers.json ```: stored *container* entities.
  - ``` components.json ```: stored *component* entities.
  - ``` boundaries.json ```: stored *boundary* entities.
- ```mina.json ```: settings of the project (e.g. name, description, version, etc.).



## Files Specifications

### mina.json

Settings of the project.

```json title="/mina.json"
{
  "name": "My first project",
  "description": "This is my first amazing project built with Mina!",
  "version": "1.0.0"
}
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` name ``` | string | No | Name of the project. |
| ``` description ``` | string | Yes | Description of the project. |
| ``` version ``` | string | Yes | Version of the project. |


### diagram.puml

```scheme title="/diagrams/*/*/diagram.puml"
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(user, "Customer", "People that need products", $sprite="users")
Container(spa, "SPA", "angular", "The main interface that the customer interacts with", $sprite="angular")
Container(api, "API", "java", "Handles all business logic", $sprite="java")
ContainerDb(db, "Database", "Microsoft SQL", "Holds product, order and invoice information", $sprite="msql_server")

Rel(user, spa, "Uses")
Rel(spa, api, "Uses")
Rel_R(api, db, "Reads/Writes")

@enduml
```

Mina supports the **PlantUML** syntax to code the diagrams. In addition, the [Mina Rendering System](./architecture/rendering-system.md) uses the [C4-PlantUML](https://github.com/plantuml-stdlib/C4-PlantUML) definitions to render the diagrams.<br/>

:::caution

Even if you don't need to include the C4-PlantUML definitions (since Mina has its rendering system), **it's strongly suggested to do so** to guarantee the compatibility with also other PlantUML tools.

:::


### diagram.spec.json

Mina stores in this file the diagram's settings and the rendering data used by the [rendering system](./architecture/rendering-system.md).<br/>
The diagram's spec file can be considered the extension of the PlantUML definitions. Thanks to this Mina is able to provide capabilities like: navigations between diagrams, interactive diagrams, custom rendering result.

```json title="/diagrams/*/*/diagram.spec.json"
{
  "uuid": "80d3e51a-2ec2-4a38-8de1-01dcd1655672",
  "name": "My first System Context diagram",
  "description": "This is an example of my first System Context diagram",
  "entities": [
    {
      "id": "softwareSystem1",
      "type": "SOFTWARE_SYSTEM",
      "position": {
        "x": 0,
        "y": 1
      },
      "size": {
        "width": 180,
        "height": 120
      },
      "externalDiagramUUID": "80d3e51a-2ec2-4a38-8de1-01dcd1655672"
    },
    {
      "id": "relationship1",
      "type": "RELATIONSHIP",
      "position": {
        "x": 0,
        "y": 1
      },
      "rotation": 90,
      "size": 120
    }
  ],
  "shapes": [
    {
      "id": "line1",
      "type": "LINE",
      "position": {
        "x": 0,
        "y": 1
      },
      "rotation": 90,
      "size": 50
    }
  ]
}
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| ``` uuid ``` | string | No | Auto-generated UUID of the diagram. |
| ``` name ``` | string | No | Name of the diagram. |
| ``` description ``` | string | Yes | Description of the diagram. |
| ``` entities ``` | Entity[] | Yes | Entities included in the diagram. |
| ``` shapes ``` | Shape[] | Yes | Shapes included in the diagram. |


### persons.json

Stored *person* entities used by Mina to provide capabilities like: search & import of a *person*, list of the diagrams referencing a *person*. 

```json title="/library/persons.json"
[
  {
    "id": "personalBankingCustomer",
    "name": "Personal Banking Customer",
    "description": "A customer of the bank, with personal bank accounts.",
    "location": "INTERNAL",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Person[] | Yes | Stored persons. |


### software-systems.json

Stored *software system* entities used by Mina to provide capabilities like: search & import of a *software system*, list of the diagrams referencing a *software system*. 

```json title="/library/software-systems.json"
[
  {
    "id": "internetBankingSystem",
    "name": "Internet Banking System",
    "description": "Allows customer to view information about their bank accounts, and make payments.",
    "location": "INTERNAL",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | SoftwareSystem[] | Yes | Stored software systems. |


### containers.json

Stored *container* entities used by Mina to provide capabilities like: search & import of a *container*, list of the diagrams referencing a *container*. 

```json title="/library/containers.json"
[
  {
    "id": "backend",
    "name": "Backend",
    "description": "Provides Internet banking functionalities via REST APIs",
    "technology": "Spring",
    "type": "STANDARD",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Container[] | Yes | Stored containers. |


### components.json

Stored *component* entities used by Mina to provide capabilities like: search & import of a *component*, list of the diagrams referencing a *component*. 

```json title="/library/components.json"
[
  {
    "id": "signinController",
    "name": "Sign In Controller",
    "description": "Allows users to sign in to the Internet Banking System.",
    "technology": "React",
    "notes": "Other notes not visible in the diagram."
  }
]
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Component[] | Yes | Stored components. |


### boundaries.json

Stored *boundary* entities used by Mina to provide capabilities like: search & import of a *boundary*, list of the diagrams referencing a *boundary*. 

```json title="/library/boundaries.json"
[
  {
    "id": "backendBoundary",
    "name": "Backend",
    "type": "STANDARD",
    "entities": [
      {
        "id": "softwareSystem1",
        "type": "SOFTWARE_SYSTEM",
        "position": {
          "x": 0,
          "y": 1
        },
        "size": {
          "width": 180,
          "height": 120
        },
        "externalDiagramUUID": "80d3e51a-2ec2-4a38-8de1-01dcd1655672"
      },
      {
        "id": "relationship1",
        "type": "RELATIONSHIP",
        "position": {
          "x": 0,
          "y": 1
        },
        "rotation": 90,
        "size": 120
      }
    ],
    "shapes": [
      {
        "id": "line1",
        "type": "LINE",
        "position": {
          "x": 0,
          "y": 1
        },
        "rotation": 90,
        "size": 50
      }
    ]
  }
]
```

#### JSON Specification

| Attribute | Type | Optional | Description |
| --- | :---: | :---: | ----------- |
| *root* | Boundary[] | Yes | Stored boundaries. |



## Object Types

| Name | Attribute(s) | Type | Optional | Description |
| --- | --- | :---: | :---: | ----------- |
| Entity | ``` id ``` | string | No | Unique identifier of the entity. It corresponds to the ``` id ``` defined in the ``` .puml ``` file. |
| | ``` type ``` | string | No | Type of entity. It corresponds to the type defined in the ``` .puml ``` file. Options: ``` PERSON ```, ``` SOFTWARE_SYSTEM ```, ``` CONTAINER ```, ``` COMPONENT ```, ``` RELATIONSHIP ```, ``` BOUNDARY ``` |
| | ``` position ``` | Position | No | Canvas-relative position of the entity.  |
| | ``` rotation ``` | float (degrees) | No | Rotation of the entity.  |
| | ``` size ``` | Size \| float | No | Size of the entity. In case of ```"type": "RELATIONSHIP"```, it is a number representing the length of the arrow. |
| | ``` externalDiagramUUID ``` | string | Yes | UUID of the diagram linked to the entity. It is used, for example, to allow navigations between diagrams. |
| Shape | ``` id ``` | string | No | Unique identifier of the shape. |
| | ``` type ``` | string | No | Type of shape. Options: ``` LINE ```. |
| | ``` position ``` | Position | No | Canvas-relative position of the shape.  |
| | ``` rotation ``` | float (degrees) | No | Rotation of the shape.  |
| | ``` size ``` | Size \| float | No | Size of the shape. In case of ```"type": "LINE"```, it is a number representing the length of the line. |
| Position | ``` x ``` | float | No | Location on the y (vertical) axis of the canvas. |
| | ``` y ``` | float | No | Location on the x (horizontal) axis of the canvas. |
| | ``` z ``` | float | Yes | Z-order of the element. Default: ```1```. |
| Size | ``` width ``` | float | No | Width of the element. |
| | ``` height ``` | float | No | Height of the element. |
| Person | ``` id ``` | string | No | Unique identifier of the person. |
| | ``` name ``` | string | No | Name of the person. |
| | ``` description ``` | string | Yes | Description of the person. |
| | ``` location ``` | string | Yes | Location of the person: internal or external to the organization. Options: ``` INTERNAL ```, ``` EXTERNAL ```. Default: ``` INTERNAL ```. |
| | ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the person. |
| SoftwareSystem | ``` id ``` | string | No | Unique identifier of the software system. |
| | ``` name ``` | string | No | Name of the software system. |
| | ``` description ``` | string | Yes | Description of the software system. |
| | ``` location ``` | string | Yes | Location of the software system: internal or external to the organization. Options: ``` INTERNAL ```, ``` EXTERNAL ```. Default: ``` INTERNAL ```. |
| | ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the software system. |
| Container | ``` id ``` | string | No | Unique identifier of the container. |
| | ``` name ``` | string | No | Name of the container. |
| | ``` description ``` | string | Yes | Description of the container. |
| | ``` technology ``` | string | No | Technology of the container. |
| | ``` type ``` | string | Yes | Type of the container: standard or database. Options: ``` STANDARD ```, ``` DATABASE ```. Default: ``` STANDARD ```. |
| | ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the software system. |
| Component | ``` id ``` | string | No | Unique identifier of the component. |
| | ``` name ``` | string | No | Name of the component. |
| | ``` description ``` | string | Yes | Description of the component. |
| | ``` technology ``` | string | No | Technology of the component. |
| | ``` notes ``` | string | Yes | Additional notes not included in the diagram but used for searching purposes or included in the exported documentation. Notes typically contain a more detailed description of the software system. |
| Boundary | ``` id ``` | string | No | Unique identifier of the boundary. |
| | ``` name ``` | string | No | Name of the boundary. |
| | ``` type ``` | string | No | Type of the boundary. Options: ``` SOFTWARE_SYSTEM ```, ``` CONTAINER ```, ``` COMPONENT ```, ``` CUSTOM ```. |
| | ``` labelType ``` | string | No | Label of the ``` CUSTOM ``` boundary. Required only when ```"type": "CUSTOM"```. |
| | ``` entities ``` | Entity[] | Yes | Entities inside the boundary. |
| | ``` shapes ``` | Shapes[] | Yes | Shapes inside the boundary. |